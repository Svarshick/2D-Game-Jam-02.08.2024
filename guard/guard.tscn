[gd_scene load_steps=38 format=3 uid="uid://cdsrl6y6ngaof"]

[ext_resource type="Script" path="res://guard/guard.gd" id="1_05rgs"]
[ext_resource type="Texture2D" uid="uid://rybof8oxq6qk" path="res://Pixel Adventure 1/Free/Main Characters/Ninja Frog/Idle (32x32).png" id="2_injlq"]
[ext_resource type="Texture2D" uid="uid://c0e8wyne461au" path="res://Pixel Adventure 1/Free/Main Characters/Ninja Frog/Run (32x32).png" id="3_ujfwh"]
[ext_resource type="Script" path="res://addons/beehave/nodes/beehave_tree.gd" id="4_rr8sg"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector.gd" id="5_r8gqg"]
[ext_resource type="Script" path="res://guard/beehaviour/ConditionLeaf.gd" id="6_lh0tk"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/sequence_reactive.gd" id="6_rwjc2"]
[ext_resource type="Script" path="res://guard/beehaviour/ActionLeaf.gd" id="7_0udre"]
[ext_resource type="Script" path="res://guard/ActionLeaf.gd" id="9_2yjba"]
[ext_resource type="Script" path="res://guard/Vision.gd" id="10_0wmx1"]

[sub_resource type="CircleShape2D" id="CircleShape2D_aimd0"]
radius = 7.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ooe1b"]
radius = 50.0

[sub_resource type="CircleShape2D" id="CircleShape2D_vcbnd"]

[sub_resource type="AtlasTexture" id="AtlasTexture_v4fol"]
atlas = ExtResource("2_injlq")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ud1x0"]
atlas = ExtResource("2_injlq")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yqcf0"]
atlas = ExtResource("2_injlq")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fv5ra"]
atlas = ExtResource("2_injlq")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_31lql"]
atlas = ExtResource("2_injlq")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_63yv6"]
atlas = ExtResource("2_injlq")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qodfo"]
atlas = ExtResource("2_injlq")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hktmx"]
atlas = ExtResource("2_injlq")
region = Rect2(224, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a3t1t"]
atlas = ExtResource("2_injlq")
region = Rect2(256, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rtmxm"]
atlas = ExtResource("2_injlq")
region = Rect2(288, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6b0ev"]
atlas = ExtResource("2_injlq")
region = Rect2(320, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wfisr"]
atlas = ExtResource("3_ujfwh")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5mxws"]
atlas = ExtResource("3_ujfwh")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i3fwx"]
atlas = ExtResource("3_ujfwh")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k4vwm"]
atlas = ExtResource("3_ujfwh")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5c3fu"]
atlas = ExtResource("3_ujfwh")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ygl1y"]
atlas = ExtResource("3_ujfwh")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t1eqg"]
atlas = ExtResource("3_ujfwh")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivkar"]
atlas = ExtResource("3_ujfwh")
region = Rect2(224, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3x3o"]
atlas = ExtResource("3_ujfwh")
region = Rect2(256, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rd64r"]
atlas = ExtResource("3_ujfwh")
region = Rect2(288, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ruo67"]
atlas = ExtResource("3_ujfwh")
region = Rect2(320, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_j17hj"]
atlas = ExtResource("3_ujfwh")
region = Rect2(352, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_tb88x"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4fol")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ud1x0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yqcf0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fv5ra")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_31lql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_63yv6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qodfo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hktmx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a3t1t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rtmxm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6b0ev")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wfisr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5mxws")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i3fwx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k4vwm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5c3fu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ygl1y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t1eqg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivkar")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3x3o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rd64r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ruo67")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j17hj")
}],
"loop": true,
"name": &"Run",
"speed": 5.0
}]

[node name="Guard" type="CharacterBody2D" groups=["guard"]]
collision_layer = 4
collision_mask = 7
script = ExtResource("1_05rgs")

[node name="Hitbox" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_aimd0")

[node name="VisionRange" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 7
script = ExtResource("10_0wmx1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="VisionRange"]
shape = SubResource("CircleShape2D_ooe1b")
debug_color = Color(0, 0.544552, 0.943143, 0.42)

[node name="Intuition" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="Intuition"]
shape = SubResource("CircleShape2D_vcbnd")
debug_color = Color(0.980392, 0, 0.109804, 0.419608)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -10)
sprite_frames = SubResource("SpriteFrames_tb88x")
animation = &"Idle"

[node name="BeehaveTree" type="Node" parent="." node_paths=PackedStringArray("blackboard", "actor")]
script = ExtResource("4_rr8sg")
blackboard = NodePath("@Node@17584")
actor = NodePath("..")

[node name="SelectorComposite" type="Node" parent="BeehaveTree"]
script = ExtResource("5_r8gqg")

[node name="SequenceReactiveComposite" type="Node" parent="BeehaveTree/SelectorComposite"]
script = ExtResource("6_rwjc2")

[node name="IsPlayerVisible" type="Node" parent="BeehaveTree/SelectorComposite/SequenceReactiveComposite"]
script = ExtResource("6_lh0tk")

[node name="ActionLeaf" type="Node" parent="BeehaveTree/SelectorComposite/SequenceReactiveComposite"]
script = ExtResource("7_0udre")

[node name="ActionLeaf" type="Node" parent="BeehaveTree/SelectorComposite"]
script = ExtResource("9_2yjba")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
path_desired_distance = 10.0
path_postprocessing = 1
avoidance_enabled = true
radius = 7.0
debug_enabled = true
debug_path_custom_color = Color(1, 0, 1, 1)

[connection signal="velocity_computed" from="NavigationAgent2D" to="." method="_on_navigation_agent_2d_velocity_computed"]
